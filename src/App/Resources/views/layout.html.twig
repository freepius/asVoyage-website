{% set currentNav = currentNav|default %}


<!DOCTYPE html>
<html lang="{{ app.locale }}">
<head>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="/favicon.png">

    <title>
        {% block title %}
            anarchos semitas
            {{ currentNav ? ' - ' ~ ('nav.'~currentNav)|trans : '' }}
        {% endblock %}
    </title>


    <!-- Styles
    ================================================== -->

    <link href="/css/main.css" type="text/css" rel="stylesheet" />
    <link href="/css/lightbox.css" type="text/css" rel="stylesheet" />

    {# Red borders for ADMIN ! #}
    {% if is_granted('ROLE_ADMIN') %}
        <style type="text/css">
            body { border : 5px solid red; }
        </style>
    {% endif %}

    {% block stylesheets %}{% endblock %}
</head>
<body itemscope itemtype="http://schema.org/
    {{- currentNav == 'about'   ? 'AboutPage'   :
       (currentNav == 'contact' ? 'ContactPage' : 'WebPage') -}}">


    {# Is authenticated ? If yes, allow to logout. #}
    {% if is_granted('IS_AUTHENTICATED_FULLY') %}

        <a href="/admin/logout" class="label label-important"
           style="position: absolute; left: 10px; top: 10px;"
        >
            <i class="icon-off icon-white"></i> {{ 'Logout'|trans }}
        </a>

    {% endif %}


    <!-- Header
    ================================================== -->
    {% embed "header.html.twig" %}{% endembed %}


    <!-- Notifications
    ================================================== -->
    <section id="notifications">
    {% block notifications %}
        {% for level in ['success', 'error', 'info', 'warning']
            if app.session.flashbag.has(level)
        %}

            <div class="alert alert-{{ level }}">
                <a class="close" data-dismiss="alert" href="#">Ã—</a>

                {% set messages = app.session.flashbag.get(level) %}

                {% if messages|length > 1 %}
                    <ul>
                        {% for message in messages %}
                            <li>{{ message|raw }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    {{ messages[0]|raw }}
                {% endif %}
            </div>

        {% endfor %}
    {% endblock %}
    </section>


    <!-- Main content
    ================================================== -->
    <section id="main" class="row-fluid">
        {% block main %}{% endblock %}
    </section>


    <!-- Javascripts
    ================================================== -->

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
        <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <script src="/js/jquery-2.0.2.min.js" type="text/javascript"></script>
    <script src="/js/modernizr.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/js/lightbox.js" type="text/javascript"></script>

    {% block javascripts %}{% endblock %}
</body>
</html>
